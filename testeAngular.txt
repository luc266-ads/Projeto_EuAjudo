import React, { useState } from 'react';
import { Heart, Brain, Users, Phone, MapPin, Search, Info, ArrowRight, Clock, Shield, DollarSign } from 'lucide-react';

export default function SaudeMentalHub() {
  const [servicoSelecionado, setServicoSelecionado] = useState(null);
  const [mostrarDetalhes, setMostrarDetalhes] = useState(false);

  const servicos = [
    {
      id: 'cvv',
      nome: 'CVV',
      titulo: 'Centro de Valorização da Vida',
      cor: 'red',
      gradiente: 'from-red-500 to-rose-600',
      icone: <Heart className="w-16 h-16" />,
      resumo: 'Apoio emocional e prevenção ao suicídio',
      telefone: '188',
      descricao: 'O CVV realiza apoio emocional e prevenção do suicídio, atendendo gratuitamente todas as pessoas que precisam conversar, sob total sigilo por telefone, email e chat 24 horas.',
      oQueE: 'Associação civil sem fins lucrativos que oferece apoio emocional gratuito através da escuta ativa e acolhimento.',
      paraQuem: [
        'Pessoas em sofrimento emocional',
        'Quem está passando por momentos difíceis',
        'Pessoas com pensamentos suicidas',
        'Quem precisa de apoio em crises emocionais'
      ],
      comoAjuda: [
        'Escuta ativa e acolhimento emocional',
        'Apoio em momentos de crise',
        'Conversas confidenciais e anônimas',
        'Prevenção do suicídio'
      ],
      ondeEncontrar: [
        'Telefone: 188 (gratuito, 24h)',
        'Chat online: www.cvv.org.br',
        'Email: contato@cvv.org.br',
        'Postos presenciais em diversas cidades'
      ],
      gratuito: true,
      disponibilidade: '24 horas, todos os dias'
    },
    {
      id: 'caps',
      nome: 'CAPS',
      titulo: 'Centro de Atenção Psicossocial',
      cor: 'emerald',
      gradiente: 'from-emerald-500 to-teal-600',
      icone: <Users className="w-16 h-16" />,
      resumo: 'Atendimento integral em saúde mental pelo SUS',
      telefone: 'Varia por região',
      descricao: 'Serviço público do SUS para atendimento de pessoas com transtornos mentais graves e dependência química, oferecendo tratamento multidisciplinar e gratuito.',
      oQueE: 'Serviço de saúde pública que oferece atendimento diário em saúde mental, promovendo a reintegração social e evitando internações prolongadas.',
      paraQuem: [
        'Pessoas com transtornos mentais graves',
        'Usuários de álcool e outras drogas',
        'Crianças e adolescentes (CAPSi)',
        'Pessoas em crise psicológica'
      ],
      comoAjuda: [
        'Consultas médicas e psicológicas',
        'Oficinas terapêuticas e atividades em grupo',
        'Dispensação de medicamentos',
        'Acompanhamento familiar',
        'Atividades de reintegração social'
      ],
      ondeEncontrar: [
        'Unidades Básicas de Saúde (encaminhamento)',
        'Demanda espontânea diretamente no CAPS',
        'Hospitais e serviços de urgência',
        'Consulte a Secretaria Municipal de Saúde'
      ],
      gratuito: true,
      disponibilidade: 'CAPS I/II: horário comercial | CAPS III: 24h'
    },
    {
      id: 'clinica',
      nome: 'Clínica-Escola',
      titulo: 'Clínica-Escola de Psicologia',
      cor: 'blue',
      gradiente: 'from-blue-500 to-cyan-600',
      icone: <Brain className="w-16 h-16" />,
      resumo: 'Atendimento psicológico acessível em universidades',
      telefone: 'Varia por instituição',
      descricao: 'Serviços de psicologia oferecidos por universidades, com atendimento realizado por estudantes supervisionados, a preços sociais ou gratuitos.',
      oQueE: 'Espaço de formação prática em universidades que oferece atendimento psicológico à comunidade com valores acessíveis.',
      paraQuem: [
        'Crianças, adolescentes, adultos e idosos',
        'Pessoas que buscam psicoterapia',
        'Quem precisa de avaliação psicológica',
        'Casais e famílias'
      ],
      comoAjuda: [
        'Psicoterapia individual',
        'Terapia de casal e família',
        'Avaliação psicológica',
        'Orientação profissional',
        'Grupos terapêuticos'
      ],
      ondeEncontrar: [
        'Universidades com curso de Psicologia',
        'Busque "clínica-escola psicologia" + sua cidade',
        'Entre em contato com o CRP da sua região',
        'Sites das instituições de ensino superior'
      ],
      gratuito: false,
      disponibilidade: 'Horário comercial (varia por instituição)'
    }
  ];

  const handleServicoClick = (servico) => {
    setServicoSelecionado(servico);
    setMostrarDetalhes(true);
  };

  const voltarParaInicio = () => {
    setMostrarDetalhes(false);
    setServicoSelecionado(null);
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50">
      <div className="max-w-7xl mx-auto p-6">
        {/* Header */}
        <header className="text-center mb-12">
          <div className="inline-flex items-center justify-center bg-white rounded-full px-8 py-4 shadow-lg mb-6">
            <Heart className="w-10 h-10 text-pink-500 mr-3" />
            <h1 className="text-4xl font-bold text-gray-800">Espaços de Acolhimento</h1>
          </div>
          <p className="text-xl text-gray-700 max-w-3xl mx-auto">
            Conheça os principais serviços de apoio à saúde mental disponíveis para você
          </p>
        </header>

        {!mostrarDetalhes ? (
          <>
            {/* Cards dos Serviços */}
            <div className="grid md:grid-cols-3 gap-6 mb-12">
              {servicos.map((servico) => (
                <div
                  key={servico.id}
                  onClick={() => handleServicoClick(servico)}
                  className="bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 cursor-pointer transform hover:-translate-y-2 overflow-hidden"
                >
                  <div className={bg-gradient-to-r ${servico.gradiente} text-white p-8 text-center}>
                    <div className="flex justify-center mb-4">
                      {servico.icone}
                    </div>
                    <h2 className="text-3xl font-bold mb-2">{servico.nome}</h2>
                    <p className="text-lg opacity-90">{servico.titulo}</p>
                  </div>
                  
                  <div className="p-6">
                    <p className="text-gray-700 mb-4 text-center min-h-[50px]">{servico.resumo}</p>
                    
                    <div className="space-y-3 mb-6">
                      {servico.telefone !== 'Varia por região' && servico.telefone !== 'Varia por instituição' && (
                        <div className="flex items-center justify-center bg-gray-50 p-3 rounded-lg">
                          <Phone className="w-5 h-5 text-gray-600 mr-2" />
                          <span className="font-bold text-xl text-gray-800">{servico.telefone}</span>
                        </div>
                      )}
                      
                      <div className="flex items-center justify-center text-sm">
                        {servico.gratuito ? (
                          <>
                            <Shield className="w-4 h-4 text-green-600 mr-2" />
                            <span className="text-green-600 font-semibold">100% Gratuito</span>
                          </>
                        ) : (
                          <>
                            <DollarSign className="w-4 h-4 text-blue-600 mr-2" />
                            <span className="text-blue-600 font-semibold">Valores Sociais</span>
                          </>
                        )}
                      </div>
                      
                      <div className="flex items-center justify-center text-sm text-gray-600">
                        <Clock className="w-4 h-4 mr-2" />
                        <span>{servico.disponibilidade}</span>
                      </div>
                    </div>
                    
                    <button className={w-full bg-gradient-to-r ${servico.gradiente} text-white py-3 rounded-lg font-semibold flex items-center justify-center hover:opacity-90 transition}>
                      Saiba mais
                      <ArrowRight className="w-5 h-5 ml-2" />
                    </button>
                  </div>
                </div>
              ))}
            </div>

            {/* Seção Informativa */}
            <div className="bg-white rounded-2xl shadow-lg p-8 mb-8">
              <h2 className="text-3xl font-bold text-gray-800 mb-6 text-center">Por que buscar ajuda?</h2>
              <div className="grid md:grid-cols-3 gap-6">
                <div className="text-center">
                  <div className="bg-purple-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                    <Heart className="w-8 h-8 text-purple-600" />
                  </div>
                  <h3 className="font-bold text-gray-800 mb-2">Cuidar da saúde mental é essencial</h3>
                  <p className="text-gray-600">Assim como cuidamos do corpo, nossa mente também precisa de atenção e cuidado.</p>
                </div>
                
                <div className="text-center">
                  <div className="bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                    <Users className="w-8 h-8 text-blue-600" />
                  </div>
                  <h3 className="font-bold text-gray-800 mb-2">Você não está sozinho</h3>
                  <p className="text-gray-600">Existem profissionais e serviços preparados para acolher e ajudar você.</p>
                </div>
                
                <div className="text-center">
                  <div className="bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                    <Shield className="w-8 h-8 text-green-600" />
                  </div>
                  <h3 className="font-bold text-gray-800 mb-2">Tratamento acessível</h3>
                  <p className="text-gray-600">Há opções gratuitas e com valores acessíveis para todos.</p>
                </div>
              </div>
            </div>

            {/* Emergência */}
            <div className="bg-gradient-to-r from-red-500 to-pink-600 text-white rounded-2xl shadow-lg p-8 text-center">
              <h3 className="text-2xl font-bold mb-4">Em situação de emergência?</h3>
              <div className="flex justify-center gap-8 flex-wrap">
                <div>
                  <p className="text-sm opacity-90 mb-1">CVV - Valorização da Vida</p>
                  <p className="text-4xl font-bold">188</p>
                </div>
                <div>
                  <p className="text-sm opacity-90 mb-1">SAMU</p>
                  <p className="text-4xl font-bold">192</p>
                </div>
              </div>
            </div>
          </>
        ) : (
          /* Detalhes do Serviço Selecionado */
          <div className="bg-white rounded-2xl shadow-lg overflow-hidden">
            <div className={bg-gradient-to-r ${servicoSelecionado.gradiente} text-white p-8}>
              <button 
                onClick={voltarParaInicio}
                className="mb-4 flex items-center hover:opacity-80 transition"
              >
                <ArrowRight className="w-5 h-5 mr-2 transform rotate-180" />
                Voltar
              </button>
              <div className="flex items-center">
                <div className="mr-6">{servicoSelecionado.icone}</div>
                <div>
                  <h2 className="text-4xl font-bold mb-2">{servicoSelecionado.nome}</h2>
                  <p className="text-xl opacity-90">{servicoSelecionado.titulo}</p>
                </div>
              </div>
            </div>

            <div className="p-8 space-y-8">
              {/* O que é */}
              <div>
                <div className="flex items-center mb-4">
                  <Info className="w-6 h-6 text-gray-700 mr-3" />
                  <h3 className="text-2xl font-bold text-gray-800">O que é?</h3>
                </div>
                <p className="text-gray-700 text-lg leading-relaxed">{servicoSelecionado.oQueE}</p>
              </div>

              {/* Para quem é */}
              <div className="bg-purple-50 p-6 rounded-xl">
                <h3 className="text-2xl font-bold text-gray-800 mb-4">Para quem é esse serviço?</h3>
                <ul className="space-y-2">
                  {servicoSelecionado.paraQuem.map((item, index) => (
                    <li key={index} className="flex items-start text-gray-700">
                      <span className="text-purple-600 font-bold mr-3">•</span>
                      <span>{item}</span>
                    </li>
                  ))}
                </ul>
              </div>

              {/* Como ajuda */}
              <div className="bg-blue-50 p-6 rounded-xl">
                <h3 className="text-2xl font-bold text-gray-800 mb-4">Como esse serviço pode ajudar?</h3>
                <ul className="space-y-2">
                  {servicoSelecionado.comoAjuda.map((item, index) => (
                    <li key={index} className="flex items-start text-gray-700">
                      <span className="text-blue-600 font-bold mr-3">•</span>
                      <span>{item}</span>
                    </li>
                  ))}
                </ul>
              </div>

              {/* Onde encontrar */}
              <div className="bg-green-50 p-6 rounded-xl">
                <div className="flex items-center mb-4">
                  <MapPin className="w-6 h-6 text-green-700 mr-3" />
                  <h3 className="text-2xl font-bold text-gray-800">Onde encontrar?</h3>
                </div>
                <ul className="space-y-2">
                  {servicoSelecionado.ondeEncontrar.map((item, index) => (
                    <li key={index} className="flex items-start text-gray-700">
                      <span className="text-green-600 font-bold mr-3">•</span>
                      <span>{item}</span>
                    </li>
                  ))}
                </ul>
              </div>

              {/* Informações adicionais */}
              <div className="grid md:grid-cols-2 gap-4">
                <div className="bg-gray-50 p-6 rounded-xl">
                  <div className="flex items-center mb-3">
                    {servicoSelecionado.gratuito ? (
                      <>
                        <Shield className="w-6 h-6 text-green-600 mr-2" />
                        <h4 className="font-bold text-gray-800">Custo</h4>
                      </>
                    ) : (
                      <>
                        <DollarSign className="w-6 h-6 text-blue-600 mr-2" />
                        <h4 className="font-bold text-gray-800">Custo</h4>
                      </>
                    )}
                  </div>
                  <p className="text-gray-700">
                    {servicoSelecionado.gratuito 
                      ? 'Totalmente gratuito' 
                      : 'Valores sociais de acordo com a renda'}
                  </p>
                </div>

                <div className="bg-gray-50 p-6 rounded-xl">
                  <div className="flex items-center mb-3">
                    <Clock className="w-6 h-6 text-indigo-600 mr-2" />
                    <h4 className="font-bold text-gray-800">Disponibilidade</h4>
                  </div>
                  <p className="text-gray-700">{servicoSelecionado.disponibilidade}</p>
                </div>
              </div>

              {/* Descrição expandida */}
              <div className="bg-yellow-50 border-l-4 border-yellow-400 p-6 rounded-lg">
                <p className="text-gray-700 leading-relaxed">{servicoSelecionado.descricao}</p>
              </div>
            </div>
          </div>
        )}

        {/* Footer */}
        <footer className="text-center mt-12 text-gray-600">
          <p className="text-sm">Sua saúde mental importa. Busque ajuda quando precisar.</p>
          <p className="text-xs mt-2">Informações gerais sobre serviços de saúde mental no Brasil</p>
        </footer>
      </div>
    </div>
  );
}
